{
"version":3,
"file":"goog.async.delay.js",
"lineCount":54,
"mappings":"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",
"sources":["goog/async/delay.js"],
"sourcesContent":["// Copyright 2007 The Closure Library Authors. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview Defines a class useful for handling functions that must be\n * invoked after a delay, especially when that delay is frequently restarted.\n * Examples include delaying before displaying a tooltip, menu hysteresis,\n * idle timers, etc.\n * @author brenneman@google.com (Shawn Brenneman)\n * @see ../demos/timers.html\n */\n\n\ngoog.provide('goog.Delay');\ngoog.provide('goog.async.Delay');\n\ngoog.require('goog.Disposable');\ngoog.require('goog.Timer');\n\n\n\n/**\n * A Delay object invokes the associated function after a specified delay. The\n * interval duration can be specified once in the constructor, or can be defined\n * each time the delay is started. Calling start on an active delay will reset\n * the timer.\n *\n * @param {function(this:THIS)} listener Function to call when the\n *     delay completes.\n * @param {number=} opt_interval The default length of the invocation delay (in\n *     milliseconds).\n * @param {THIS=} opt_handler The object scope to invoke the function in.\n * @template THIS\n * @constructor\n * @struct\n * @extends {goog.Disposable}\n * @final\n */\ngoog.async.Delay = function(listener, opt_interval, opt_handler) {\n  goog.async.Delay.base(this, 'constructor');\n\n  /**\n   * The function that will be invoked after a delay.\n   * @private {function(this:THIS)}\n   */\n  this.listener_ = listener;\n\n  /**\n   * The default amount of time to delay before invoking the callback.\n   * @type {number}\n   * @private\n   */\n  this.interval_ = opt_interval || 0;\n\n  /**\n   * The object context to invoke the callback in.\n   * @type {Object|undefined}\n   * @private\n   */\n  this.handler_ = opt_handler;\n\n\n  /**\n   * Cached callback function invoked when the delay finishes.\n   * @type {Function}\n   * @private\n   */\n  this.callback_ = goog.bind(this.doAction_, this);\n};\ngoog.inherits(goog.async.Delay, goog.Disposable);\n\n\n\n/**\n * A deprecated alias.\n * @deprecated Use goog.async.Delay instead.\n * @constructor\n * @final\n */\ngoog.Delay = goog.async.Delay;\n\n\n/**\n * Identifier of the active delay timeout, or 0 when inactive.\n * @type {number}\n * @private\n */\ngoog.async.Delay.prototype.id_ = 0;\n\n\n/**\n * Disposes of the object, cancelling the timeout if it is still outstanding and\n * removing all object references.\n * @override\n * @protected\n */\ngoog.async.Delay.prototype.disposeInternal = function() {\n  goog.async.Delay.base(this, 'disposeInternal');\n  this.stop();\n  delete this.listener_;\n  delete this.handler_;\n};\n\n\n/**\n * Starts the delay timer. The provided listener function will be called after\n * the specified interval. Calling start on an active timer will reset the\n * delay interval.\n * @param {number=} opt_interval If specified, overrides the object's default\n *     interval with this one (in milliseconds).\n */\ngoog.async.Delay.prototype.start = function(opt_interval) {\n  this.stop();\n  this.id_ = goog.Timer.callOnce(\n      this.callback_,\n      opt_interval !== undefined ? opt_interval : this.interval_);\n};\n\n\n/**\n * Starts the delay timer if it's not already active.\n * @param {number=} opt_interval If specified and the timer is not already\n *     active, overrides the object's default interval with this one (in\n *     milliseconds).\n */\ngoog.async.Delay.prototype.startIfNotActive = function(opt_interval) {\n  if (!this.isActive()) {\n    this.start(opt_interval);\n  }\n};\n\n\n/**\n * Stops the delay timer if it is active. No action is taken if the timer is not\n * in use.\n */\ngoog.async.Delay.prototype.stop = function() {\n  if (this.isActive()) {\n    goog.Timer.clear(this.id_);\n  }\n  this.id_ = 0;\n};\n\n\n/**\n * Fires delay's action even if timer has already gone off or has not been\n * started yet; guarantees action firing. Stops the delay timer.\n */\ngoog.async.Delay.prototype.fire = function() {\n  this.stop();\n  this.doAction_();\n};\n\n\n/**\n * Fires delay's action only if timer is currently active. Stops the delay\n * timer.\n */\ngoog.async.Delay.prototype.fireIfActive = function() {\n  if (this.isActive()) {\n    this.fire();\n  }\n};\n\n\n/**\n * @return {boolean} True if the delay is currently active, false otherwise.\n */\ngoog.async.Delay.prototype.isActive = function() {\n  return this.id_ != 0;\n};\n\n\n/**\n * Invokes the callback function after the delay successfully completes.\n * @private\n */\ngoog.async.Delay.prototype.doAction_ = function() {\n  this.id_ = 0;\n  if (this.listener_) {\n    this.listener_.call(this.handler_);\n  }\n};\n"],
"names":["goog","provide","require","async","Delay","goog.async.Delay","listener","opt_interval","opt_handler","base","listener_","interval_","handler_","callback_","bind","doAction_","inherits","Disposable","prototype","id_","disposeInternal","goog.async.Delay.prototype.disposeInternal","stop","start","goog.async.Delay.prototype.start","Timer","callOnce","undefined","startIfNotActive","goog.async.Delay.prototype.startIfNotActive","isActive","goog.async.Delay.prototype.stop","clear","fire","goog.async.Delay.prototype.fire","fireIfActive","goog.async.Delay.prototype.fireIfActive","goog.async.Delay.prototype.isActive","goog.async.Delay.prototype.doAction_","call"]
}
