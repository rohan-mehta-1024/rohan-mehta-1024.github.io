{
"version":3,
"file":"goog.fx.animation.js",
"lineCount":176,
"mappings":"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",
"sources":["goog/fx/animation.js"],
"sourcesContent":["// Copyright 2006 The Closure Library Authors. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview Classes for doing animations and visual effects.\n *\n * (Based loosly on my animation code for 13thparallel.org, with extra\n * inspiration from the DojoToolkit's modifications to my code)\n * @author arv@google.com (Erik Arvidsson)\n */\n\ngoog.provide('goog.fx.Animation');\ngoog.provide('goog.fx.Animation.EventType');\ngoog.provide('goog.fx.Animation.State');\ngoog.provide('goog.fx.AnimationEvent');\n\ngoog.require('goog.array');\ngoog.require('goog.asserts');\ngoog.require('goog.events.Event');\ngoog.require('goog.fx.Transition');\ngoog.require('goog.fx.TransitionBase');\ngoog.require('goog.fx.anim');\ngoog.require('goog.fx.anim.Animated');\n\n\n\n/**\n * Constructor for an animation object.\n * @param {Array<number>} start Array for start coordinates.\n * @param {Array<number>} end Array for end coordinates.\n * @param {number} duration Length of animation in milliseconds.\n * @param {Function=} opt_acc Acceleration function, returns 0-1 for inputs 0-1.\n * @constructor\n * @struct\n * @implements {goog.fx.anim.Animated}\n * @implements {goog.fx.Transition}\n * @extends {goog.fx.TransitionBase}\n */\ngoog.fx.Animation = function(start, end, duration, opt_acc) {\n  goog.fx.Animation.base(this, 'constructor');\n\n  if (!goog.isArray(start) || !goog.isArray(end)) {\n    throw new Error('Start and end parameters must be arrays');\n  }\n\n  if (start.length != end.length) {\n    throw new Error('Start and end points must be the same length');\n  }\n\n  /**\n   * Start point.\n   * @type {Array<number>}\n   * @protected\n   */\n  this.startPoint = start;\n\n  /**\n   * End point.\n   * @type {Array<number>}\n   * @protected\n   */\n  this.endPoint = end;\n\n  /**\n   * Duration of animation in milliseconds.\n   * @type {number}\n   * @protected\n   */\n  this.duration = duration;\n\n  /**\n   * Acceleration function, which must return a number between 0 and 1 for\n   * inputs between 0 and 1.\n   * @type {Function|undefined}\n   * @private\n   */\n  this.accel_ = opt_acc;\n\n  /**\n   * Current coordinate for animation.\n   * @type {Array<number>}\n   * @protected\n   */\n  this.coords = [];\n\n  /**\n   * Whether the animation should use \"right\" rather than \"left\" to position\n   * elements in RTL.  This is a temporary flag to allow clients to transition\n   * to the new behavior at their convenience.  At some point it will be the\n   * default.\n   * @type {boolean}\n   * @private\n   */\n  this.useRightPositioningForRtl_ = false;\n\n  /**\n   * Current frame rate.\n   * @private {number}\n   */\n  this.fps_ = 0;\n\n  /**\n   * Percent of the way through the animation.\n   * @protected {number}\n   */\n  this.progress = 0;\n\n  /**\n   * Timestamp for when last frame was run.\n   * @protected {?number}\n   */\n  this.lastFrame = null;\n};\ngoog.inherits(goog.fx.Animation, goog.fx.TransitionBase);\n\n\n/**\n * @return {number} The duration of this animation in milliseconds.\n */\ngoog.fx.Animation.prototype.getDuration = function() {\n  return this.duration;\n};\n\n\n/**\n * Sets whether the animation should use \"right\" rather than \"left\" to position\n * elements.  This is a temporary flag to allow clients to transition\n * to the new component at their convenience.  At some point \"right\" will be\n * used for RTL elements by default.\n * @param {boolean} useRightPositioningForRtl True if \"right\" should be used for\n *     positioning, false if \"left\" should be used for positioning.\n */\ngoog.fx.Animation.prototype.enableRightPositioningForRtl = function(\n    useRightPositioningForRtl) {\n  this.useRightPositioningForRtl_ = useRightPositioningForRtl;\n};\n\n\n/**\n * Whether the animation should use \"right\" rather than \"left\" to position\n * elements.  This is a temporary flag to allow clients to transition\n * to the new component at their convenience.  At some point \"right\" will be\n * used for RTL elements by default.\n * @return {boolean} True if \"right\" should be used for positioning, false if\n *     \"left\" should be used for positioning.\n */\ngoog.fx.Animation.prototype.isRightPositioningForRtlEnabled = function() {\n  return this.useRightPositioningForRtl_;\n};\n\n\n/**\n * Events fired by the animation.\n * @enum {string}\n */\ngoog.fx.Animation.EventType = {\n  /**\n   * Dispatched when played for the first time OR when it is resumed.\n   * @deprecated Use goog.fx.Transition.EventType.PLAY.\n   */\n  PLAY: goog.fx.Transition.EventType.PLAY,\n\n  /**\n   * Dispatched only when the animation starts from the beginning.\n   * @deprecated Use goog.fx.Transition.EventType.BEGIN.\n   */\n  BEGIN: goog.fx.Transition.EventType.BEGIN,\n\n  /**\n   * Dispatched only when animation is restarted after a pause.\n   * @deprecated Use goog.fx.Transition.EventType.RESUME.\n   */\n  RESUME: goog.fx.Transition.EventType.RESUME,\n\n  /**\n   * Dispatched when animation comes to the end of its duration OR stop\n   * is called.\n   * @deprecated Use goog.fx.Transition.EventType.END.\n   */\n  END: goog.fx.Transition.EventType.END,\n\n  /**\n   * Dispatched only when stop is called.\n   * @deprecated Use goog.fx.Transition.EventType.STOP.\n   */\n  STOP: goog.fx.Transition.EventType.STOP,\n\n  /**\n   * Dispatched only when animation comes to its end naturally.\n   * @deprecated Use goog.fx.Transition.EventType.FINISH.\n   */\n  FINISH: goog.fx.Transition.EventType.FINISH,\n\n  /**\n   * Dispatched when an animation is paused.\n   * @deprecated Use goog.fx.Transition.EventType.PAUSE.\n   */\n  PAUSE: goog.fx.Transition.EventType.PAUSE,\n\n  /**\n   * Dispatched each frame of the animation.  This is where the actual animator\n   * will listen.\n   */\n  ANIMATE: 'animate',\n\n  /**\n   * Dispatched when the animation is destroyed.\n   */\n  DESTROY: 'destroy'\n};\n\n\n/**\n * @deprecated Use goog.fx.anim.TIMEOUT.\n */\ngoog.fx.Animation.TIMEOUT = goog.fx.anim.TIMEOUT;\n\n\n/**\n * Enum for the possible states of an animation.\n * @deprecated Use goog.fx.Transition.State instead.\n * @enum {number}\n */\ngoog.fx.Animation.State = goog.fx.TransitionBase.State;\n\n\n/**\n * @deprecated Use goog.fx.anim.setAnimationWindow.\n * @param {Window} animationWindow The window in which to animate elements.\n */\ngoog.fx.Animation.setAnimationWindow = function(animationWindow) {\n  goog.fx.anim.setAnimationWindow(animationWindow);\n};\n\n\n/**\n * Starts or resumes an animation.\n * @param {boolean=} opt_restart Whether to restart the\n *     animation from the beginning if it has been paused.\n * @return {boolean} Whether animation was started.\n * @override\n */\ngoog.fx.Animation.prototype.play = function(opt_restart) {\n  if (opt_restart || this.isStopped()) {\n    this.progress = 0;\n    this.coords = this.startPoint;\n  } else if (this.isPlaying()) {\n    return false;\n  }\n\n  goog.fx.anim.unregisterAnimation(this);\n\n  var now = /** @type {number} */ (goog.now());\n\n  this.startTime = now;\n  if (this.isPaused()) {\n    this.startTime -= this.duration * this.progress;\n  }\n\n  this.endTime = this.startTime + this.duration;\n  this.lastFrame = this.startTime;\n\n  if (!this.progress) {\n    this.onBegin();\n  }\n\n  this.onPlay();\n\n  if (this.isPaused()) {\n    this.onResume();\n  }\n\n  this.setStatePlaying();\n\n  goog.fx.anim.registerAnimation(this);\n  this.cycle(now);\n\n  return true;\n};\n\n\n/**\n * Stops the animation.\n * @param {boolean=} opt_gotoEnd If true the animation will move to the\n *     end coords.\n * @override\n */\ngoog.fx.Animation.prototype.stop = function(opt_gotoEnd) {\n  goog.fx.anim.unregisterAnimation(this);\n  this.setStateStopped();\n\n  if (opt_gotoEnd) {\n    this.progress = 1;\n  }\n\n  this.updateCoords_(this.progress);\n\n  this.onStop();\n  this.onEnd();\n};\n\n\n/**\n * Pauses the animation (iff it's playing).\n * @override\n */\ngoog.fx.Animation.prototype.pause = function() {\n  if (this.isPlaying()) {\n    goog.fx.anim.unregisterAnimation(this);\n    this.setStatePaused();\n    this.onPause();\n  }\n};\n\n\n/**\n * @return {number} The current progress of the animation, the number\n *     is between 0 and 1 inclusive.\n */\ngoog.fx.Animation.prototype.getProgress = function() {\n  return this.progress;\n};\n\n\n/**\n * Sets the progress of the animation.\n * @param {number} progress The new progress of the animation.\n */\ngoog.fx.Animation.prototype.setProgress = function(progress) {\n  this.progress = progress;\n  if (this.isPlaying()) {\n    var now = goog.now();\n    // If the animation is already playing, we recompute startTime and endTime\n    // such that the animation plays consistently, that is:\n    // now = startTime + progress * duration.\n    this.startTime = now - this.duration * this.progress;\n    this.endTime = this.startTime + this.duration;\n  }\n};\n\n\n/**\n * Disposes of the animation.  Stops an animation, fires a 'destroy' event and\n * then removes all the event handlers to clean up memory.\n * @override\n * @protected\n */\ngoog.fx.Animation.prototype.disposeInternal = function() {\n  if (!this.isStopped()) {\n    this.stop(false);\n  }\n  this.onDestroy();\n  goog.fx.Animation.base(this, 'disposeInternal');\n};\n\n\n/**\n * Stops an animation, fires a 'destroy' event and then removes all the event\n * handlers to clean up memory.\n * @deprecated Use dispose() instead.\n */\ngoog.fx.Animation.prototype.destroy = function() {\n  this.dispose();\n};\n\n\n/** @override */\ngoog.fx.Animation.prototype.onAnimationFrame = function(now) {\n  this.cycle(now);\n};\n\n\n/**\n * Handles the actual iteration of the animation in a timeout\n * @param {number} now The current time.\n */\ngoog.fx.Animation.prototype.cycle = function(now) {\n  goog.asserts.assertNumber(this.startTime);\n  goog.asserts.assertNumber(this.endTime);\n  goog.asserts.assertNumber(this.lastFrame);\n  // Happens in rare system clock reset.\n  if (now < this.startTime) {\n    this.endTime = now + this.endTime - this.startTime;\n    this.startTime = now;\n  }\n  this.progress = (now - this.startTime) / (this.endTime - this.startTime);\n\n  if (this.progress > 1) {\n    this.progress = 1;\n  }\n\n  this.fps_ = 1000 / (now - this.lastFrame);\n  this.lastFrame = now;\n\n  this.updateCoords_(this.progress);\n\n  // Animation has finished.\n  if (this.progress == 1) {\n    this.setStateStopped();\n    goog.fx.anim.unregisterAnimation(this);\n\n    this.onFinish();\n    this.onEnd();\n\n    // Animation is still under way.\n  } else if (this.isPlaying()) {\n    this.onAnimate();\n  }\n};\n\n\n/**\n * Calculates current coordinates, based on the current state.  Applies\n * the acceleration function if it exists.\n * @param {number} t Percentage of the way through the animation as a decimal.\n * @private\n */\ngoog.fx.Animation.prototype.updateCoords_ = function(t) {\n  if (goog.isFunction(this.accel_)) {\n    t = this.accel_(t);\n  }\n  this.coords = new Array(this.startPoint.length);\n  for (var i = 0; i < this.startPoint.length; i++) {\n    this.coords[i] =\n        (this.endPoint[i] - this.startPoint[i]) * t + this.startPoint[i];\n  }\n};\n\n\n/**\n * Dispatches the ANIMATE event. Sub classes should override this instead\n * of listening to the event.\n * @protected\n */\ngoog.fx.Animation.prototype.onAnimate = function() {\n  this.dispatchAnimationEvent(goog.fx.Animation.EventType.ANIMATE);\n};\n\n\n/**\n * Dispatches the DESTROY event. Sub classes should override this instead\n * of listening to the event.\n * @protected\n */\ngoog.fx.Animation.prototype.onDestroy = function() {\n  this.dispatchAnimationEvent(goog.fx.Animation.EventType.DESTROY);\n};\n\n\n/** @override */\ngoog.fx.Animation.prototype.dispatchAnimationEvent = function(type) {\n  this.dispatchEvent(new goog.fx.AnimationEvent(type, this));\n};\n\n\n\n/**\n * Class for an animation event object.\n * @param {string} type Event type.\n * @param {goog.fx.Animation} anim An animation object.\n * @constructor\n * @struct\n * @extends {goog.events.Event}\n */\ngoog.fx.AnimationEvent = function(type, anim) {\n  goog.fx.AnimationEvent.base(this, 'constructor', type);\n\n  /**\n   * The current coordinates.\n   * @type {Array<number>}\n   */\n  this.coords = anim.coords;\n\n  /**\n   * The x coordinate.\n   * @type {number}\n   */\n  this.x = anim.coords[0];\n\n  /**\n   * The y coordinate.\n   * @type {number}\n   */\n  this.y = anim.coords[1];\n\n  /**\n   * The z coordinate.\n   * @type {number}\n   */\n  this.z = anim.coords[2];\n\n  /**\n   * The current duration.\n   * @type {number}\n   */\n  this.duration = anim.duration;\n\n  /**\n   * The current progress.\n   * @type {number}\n   */\n  this.progress = anim.getProgress();\n\n  /**\n   * Frames per second so far.\n   */\n  this.fps = anim.fps_;\n\n  /**\n   * The state of the animation.\n   * @type {number}\n   */\n  this.state = anim.getStateInternal();\n\n  /**\n   * The animation object.\n   * @type {goog.fx.Animation}\n   */\n  // TODO(arv): This can be removed as this is the same as the target\n  this.anim = anim;\n};\ngoog.inherits(goog.fx.AnimationEvent, goog.events.Event);\n\n\n/**\n * Returns the coordinates as integers (rounded to nearest integer).\n * @return {!Array<number>} An array of the coordinates rounded to\n *     the nearest integer.\n */\ngoog.fx.AnimationEvent.prototype.coordsAsInts = function() {\n  return goog.array.map(this.coords, Math.round);\n};\n"],
"names":["goog","provide","require","fx","Animation","goog.fx.Animation","start","end","duration","opt_acc","base","isArray","Error","length","startPoint","endPoint","accel_","coords","useRightPositioningForRtl_","fps_","progress","lastFrame","inherits","TransitionBase","prototype","getDuration","goog.fx.Animation.prototype.getDuration","enableRightPositioningForRtl","goog.fx.Animation.prototype.enableRightPositioningForRtl","useRightPositioningForRtl","isRightPositioningForRtlEnabled","goog.fx.Animation.prototype.isRightPositioningForRtlEnabled","EventType","PLAY","Transition","BEGIN","RESUME","END","STOP","FINISH","PAUSE","ANIMATE","DESTROY","TIMEOUT","anim","State","setAnimationWindow","goog.fx.Animation.setAnimationWindow","animationWindow","play","goog.fx.Animation.prototype.play","opt_restart","isStopped","isPlaying","unregisterAnimation","now","startTime","isPaused","endTime","onBegin","onPlay","onResume","setStatePlaying","registerAnimation","cycle","stop","goog.fx.Animation.prototype.stop","opt_gotoEnd","setStateStopped","updateCoords_","onStop","onEnd","pause","goog.fx.Animation.prototype.pause","setStatePaused","onPause","getProgress","goog.fx.Animation.prototype.getProgress","setProgress","goog.fx.Animation.prototype.setProgress","disposeInternal","goog.fx.Animation.prototype.disposeInternal","onDestroy","destroy","goog.fx.Animation.prototype.destroy","dispose","onAnimationFrame","goog.fx.Animation.prototype.onAnimationFrame","goog.fx.Animation.prototype.cycle","asserts","assertNumber","onFinish","onAnimate","goog.fx.Animation.prototype.updateCoords_","t","isFunction","Array","i","goog.fx.Animation.prototype.onAnimate","dispatchAnimationEvent","goog.fx.Animation.prototype.onDestroy","goog.fx.Animation.prototype.dispatchAnimationEvent","type","dispatchEvent","AnimationEvent","goog.fx.AnimationEvent","x","y","z","fps","state","getStateInternal","events","Event","coordsAsInts","goog.fx.AnimationEvent.prototype.coordsAsInts","array","map","Math","round"]
}
