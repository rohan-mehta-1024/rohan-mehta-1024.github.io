{"version":3,"sources":["personal_website/views/all_posts_html.cljs"],"mappings":"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","names":["personal-website.views.all-posts-html/generate-and-inject-style-tag","page-head","js/document","style-tag","personal-website.views.all-posts-html/update-page-title","input-css","style-tag-selector","style-tag-query","personal-website.views.all-posts-html/date-mapping","personal-website.views.all-posts-html/format-date","date","split-date","clojure.string.split","cljs.core.get","G__33137","personal-website.views.all-posts-html/get-posts","post-type","x","cljs.core.print","personal-website.content.writings.blog-posts.posts/posts","cljs.core._EQ_","personal-website.content.projects.syn-bio.syn-bio/posts","personal-website.content.projects.comp-sci.comp-sci/posts","personal-website.content.writings.essays.essays/posts","personal-website.content.writings.short-stories.stories/posts","personal-website.content.writings.poetry.poems/posts","personal-website.content.writings.papers.papers/posts","personal-website.views.all-posts-html/list-posts","posts","preview-fn","personal-website.views.preview-html/preview","cljs.core.map","cljs.core/cons","cljs.core.into","cljs.core.conj","personal-website.views.all-posts-html/display","route-data","params","prefix","personal-website.views.header-html/header","personal-website.views.search-html/search-html","s","type","js/MathJax","wait","js/setTimeout","run","cljs.core/empty?","personal-website.views.footer-html/footer","title","$","cljs.core/name","clojure.string/capitalize","clojure.string.join","page-title","cljs.core/vals","a","personal-website.utils/unformat-title","post-title","fexpr__33139","G__33140","n","G__33141"],"sourcesContent":["(ns personal-website.views.all-posts-html\n  (:require [personal-website.views.header-html :refer [header]]\n            [personal-website.views.footer-html :refer [footer]]\n            [personal-website.views.preview-html :refer [preview]]\n            [personal-website.views.search-html :refer [search-html]]\n            [personal-website.utils :as utils]\n            [personal-website.content.projects.syn-bio.syn-bio :as syn-bio]\n            [personal-website.content.projects.comp-sci.comp-sci :as comp-sci]\n            [personal-website.content.writings.blog-posts.posts :as blog-posts]\n            [personal-website.content.writings.essays.essays :as essays]\n            [personal-website.content.writings.short-stories.stories :as stories]\n            [personal-website.content.writings.poetry.poems :as poems]\n            [personal-website.content.writings.papers.papers :as papers]))\n\n\n(defn generate-and-inject-style-tag []\n  \"Injects a style tag with the id 'injected-css' into the page's head tag\"\n  (let [page-head (.-head js/document)\n        style-tag (.createElement js/document \"title\")]\n      (.appendChild page-head style-tag)))\n\n\n(defn update-page-title [input-css]\n \"Updates #injected-css with provided argument - if page does not have #injected-css, then\n  creates it via call to generate-and-inject-style-tag\"\n (let [style-tag-selector \"title\"\n       style-tag-query (.querySelector js/document style-tag-selector)\n       style-tag (if (nil? style-tag-query)\n                      (generate-and-inject-style-tag)\n                      style-tag-query)]\n      (aset style-tag \"innerHTML\" input-css)))\n\n\n(def date-mapping {\"1\" \"Jan\"\n                   \"2\" \"Feb\"\n                   \"3\" \"Mar\"\n                   \"4\" \"Apr\"\n                   \"5\" \"May\"\n                   \"6\" \"Jun\"\n                   \"7\" \"Jul\"\n                   \"8\" \"Aug\"\n                   \"9\" \"Sep\"\n                   \"10\" \"Oct\"\n                   \"11\" \"Nov\"\n                   \"12\" \"Dec\"})\n\n(defn format-date [date]\n  (let [split-date (clojure.string/split date \"/\")]\n    (-> split-date\n        (get 1)\n        date-mapping\n        (str \" \" (split-date 2) \", \" (split-date 0) \" by Rohan Mehta\"))))\n\n(defn get-posts [post-type]\n  (let [x (print \"blogs\" blog-posts/posts)])\n  (cond\n    (= post-type :syn-bio) syn-bio/posts\n    (= post-type :comp-sci) comp-sci/posts\n    (= post-type :blog-posts) blog-posts/posts\n    (= post-type :essays)     essays/posts\n    (= post-type :stories)    stories/posts\n    (= post-type :poems)      poems/posts\n    (= post-type :papers)     papers/posts))\n\n(defn list-posts [posts]\n  (let [preview-fn (fn [x] (preview x false))]\n    (->> (map preview-fn posts)\n         (cons {:id \"post-container-3\"})\n         (cons :div)\n         (into [])\n         (conj [:div {:id \"post-container-2\"} \"Posts\"])\n         (conj [:div {:id \"post-container-1\"}]))))\n\n\n\n(defn display [route-data]\n  (let [posts (-> route-data :data :name get-posts)\n        params (-> route-data :path-params)\n        prefix (conj [:div] (header) (search-html))\n        s (print \"hi\" posts  (-> route-data :data :name))\n        type (.typeset js/MathJax)\n        wait  (fn [] (js/setTimeout type 500))\n        run (wait)]\n    (if (empty? posts)\n      [:div (header)\n       [:div {:style {:text-align \"center\"\n                      :margin-top \"350px\"\n                      :font-size \"28px\"\n                      :font-family \"WorkSansBold\"\n                      :min-height \"100vh\"}}\n       \"When \\\\(a \\\\ne 0\\\\), there are two solutions to \\\\(ax^2 + bx + c = 0\\\\) and they are\n       $$x = {-b \\\\pm \\\\sqrt{b^2-4ac} \\\\over 2a}.$$\"]\n       (footer)]\n\n      (if (-> params :id (= \"all\"))\n        (let [title (as-> route-data $\n                        (:data $) (:name $) (name $) (clojure.string/split $ \"-\")\n                        (map clojure.string/capitalize $)\n                        (clojure.string/join \" \" $))\n              page-title (update-page-title title)]\n          (as-> (vals posts) $\n                (list-posts $)\n                (conj prefix $)\n                (conj $ (footer))))\n\n        (let [x (print \"foolish\" (params :id) posts)\n              a (print (utils/unformat-title (params :id)) \"shikadai\")\n              post-title ((posts (utils/unformat-title (params :id))) :title)\n              page-title (update-page-title post-title)\n              n (print \"ok\" post-title)\n              ]\n          (as-> posts $\n                ($ (utils/unformat-title (params :id)))\n                [:div {:id \"post-content-container\"}\n                 [:h1 {:id \"post-title\"} ($ :title)]\n                 [:h4 {:id \"post-byline\"} (format-date ($ :date))]\n                 [:div {:id \"post-intro-container\"}\n                  [:blockquote {:id \"post-intro-text\"} ($ :show)]]\n                 [:div {:id \"post-content\"} ($ :content)]]\n                (conj prefix $)\n                (conj $ (footer))))))))\n"]}