{"version":3,"sources":["personal_website/views.cljs"],"mappings":";AAWA,AAAA,AAAMA;AAAN,AAAA;AAEE,AAAMC,AAAU,AAAQC;AAClBC,AAAU,AAAA,AAAgBD;AADhC,AAEI,AAAA,AAAA,AAAeC;;AACf,AAAcF,AAAUE;;AAE9B,AAAA,AAAMC,AAAiBC;AAAvB,AAAA;AAGC,AAAA,AAAMC;AACAC,AAAgB,AAAgBL,AAAYI;AAC5CH,AAAU,AAAI,AAAA,AAAMI,AACL,AAACP,AACDO;AAJrB,AAKK,AAAA,AAAMJ,AAAsBE;;AAElC,AAAA,AAAA,AAAA,AAAA,AAAKG,AAA+BC,AACCC;AAErC,AAAA,AAAOC;AAAP,AAAkB,AAAA,AAACC,AAAOC,AAAM,AAACC,AAAiB,AAACC,AAAW,AAACC;;AAG/D,AAAKC,AAAE,AAACC,AAAMP;AACd,AAAA,AAAMQ,AAAYC;AAAlB,AACE,AAAA,AAAIA,AAASC,AAAIjB;;AAIlB,AAAA,AAAMkB;AAAN,AACG,AAAMC,AAAa,AAACJ,AAAW,AAACR;AAAhC,AAAA,AACGa,AAAe,AAAKC;AAAL,AAAY,AAAA,AAAA,AAAA,AAAIA;AADlC,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEe,AAAA,AAAA,AAACjB,AAAAA,AAAAA,AAIFE,AACCA,AAEEA,AACJA,AACCA,AACFA,AACCA,AACHD","names":["personal-website.views/generate-and-inject-style-tag","page-head","js/document","style-tag","personal-website.views/update-page-css","input-css","style-tag-selector","style-tag-query","personal-website.views/route-view-mapping","personal-website.views.homepage-views.homepage-html/homepage-html","personal-website.views.all-posts-html/display","personal-website.views/styles","cljs.core.reduce","cljs.core/into","personal-website.styles.homepage-styles.homepage-stylesheet/homepage-styles","personal-website.styles.all-posts-stylesheet/all-posts","personal-website.styles.footer-stylesheet/footer","personal-website.views/l","cljs.core.print","personal-website.views/inject-css","text-css","garden.core.css","personal-website.views/main-panel","injected-css","kee-frame.core/switch-route","route"],"sourcesContent":["(ns personal-website.views\n  (:require [re-frame.core :as re-frame]\n            [kee-frame.core :as k]\n            [garden.core :refer [css]]\n            [personal-website.views.all-posts-html :refer [display]]\n            [personal-website.styles.all-posts-stylesheet :refer [all-posts]]\n            [personal-website.styles.footer-stylesheet :refer [footer]]\n            [personal-website.views.homepage-views.homepage-html :refer [homepage-html]]\n            [personal-website.styles.homepage-styles.homepage-stylesheet :refer [homepage-styles]]))\n\n\n(defn generate-and-inject-style-tag []\n  \"Injects a style tag with the id 'injected-css' into the page's head tag\"\n  (let [page-head (.-head js/document)\n        style-tag (.createElement js/document \"style\")]\n      (.setAttribute style-tag \"id\" \"injected-css\")\n      (.appendChild page-head style-tag)))\n\n(defn update-page-css [input-css]\n \"Updates #injected-css with provided argument - if page does not have #injected-css, then\n  creates it via call to generate-and-inject-style-tag\"\n (let [style-tag-selector \"#injected-css\"\n       style-tag-query (.querySelector js/document style-tag-selector)\n       style-tag (if (nil? style-tag-query)\n                      (generate-and-inject-style-tag)\n                      style-tag-query)]\n      (aset style-tag \"innerHTML\" input-css)))\n\n(def route-view-mapping {:homepage [homepage-html]\n                         :blog-posts display})\n\n(defn  styles []  (reduce into [(homepage-styles) (all-posts) (footer)]))\n\n\n(def l (print styles))\n(defn inject-css [text-css]\n  (-> text-css css update-page-css))\n\n\n\n (defn main-panel []\n    (let [injected-css (inject-css (styles))]\n      [k/switch-route (fn [route] (-> route :data :name))\n         :homepage (route-view-mapping :homepage)\n         ;:who-i-am\n\n\n         :syn-bio display\n         :comp-sci display\n\n         :blog-posts display\n         :essays display\n         :stories display\n         :poems display\n         :papers display\n         nil [homepage-html]]))\n"]}