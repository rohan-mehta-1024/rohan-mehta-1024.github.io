{"version":3,"sources":["personal_website/views/preview_html.cljs"],"mappings":";AAEA,AAAA,AAAMA,AAAaC;AAAnB,AACO,AAAA,AAACC,AAAqBD,AACtB,AAACE,AAAIC,AACL,AAAA,AAACC;;AAER,AAAA,AAAMC,AAAaC;AAAnB,AACE,AAAU,AAACJ,AAAI,AAAKK,AACV,AAACL,AAAI,AAACM,AAAK,AAAA,AAACC,AAAQC,AACT,AAACD,AAAQE,AAAIR,AACxBS,AACA,AAAA,AAAA,AAACC,AACDT;AALK,AAAQ,AAAA,AAACH,AAAqBM;AAAxCD;;AAQP,AAAA,AAAMQ;AAAN,AACE,AAAMC,AAAO,AAAA,AAAA,AAAA,AAAA,AAAA,AAACC;AACRC,AAAO;AAAA,AAAO,AAAWC,AAAUH;;AADzC,AAEE,AAAA,AAACI,AAAcF;;AAGnB,AAAA,AAAMG,AAASC,AAAYC;AAA3B,AACE,AAAAC,AAA8DF;AAA9DE,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAAC,AAAA,AAAAD,AAAA,AAAA,AAAA,AAAA,AAAAE,AAAAC,AAAAH,AAAAA;AAAAA,AAAwDU;AAAxD,AAAAN,AAAAJ,AAAA,AAAcK;AAAd,AAAAD,AAAAJ,AAAA,AAAoBM;AAApB,AAAAF,AAAAJ,AAAA,AAAyBO;AAAzB,AAAAH,AAAAJ,AAAA,AAAiCQ;AAAjC,AAAAJ,AAAAJ,AAAA,AAAsCjB;AAAtC,AAAAqB,AAAAJ,AAAA,AAA2CvB;AAA3C,AAAA2B,AAAAJ,AAAA,AAAgDS;AAC1CE,AAAO,AAAA,AAAI,AAAA,AAACC,AAAEnC,AAAoC,AAAA,AAAKA;AACvDoC,AAAS,AAACrC,AAAYC;AACtBqC,AAAU,AAAA,AAAIf,AAAU,AAAA,AAAKc;AAC7B9B,AAAK,AAACD,AAAYC;AAClBgC,AAAO,AAAA,AAAKT,AAAWQ,AAAU/B;AALvC,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAOoCgC,AAEnB,AAAA,AAAA,AAAA,AAAM,AAAA,AAACH,AAAEnC,AAAc,AAAA,AAAA,AAACiC,AAAAA,AAAAA,AAClB,AAAA,AAACE,AAAEnC,AAAyB,AAAA,AAAA,AAASA,AAASgC,AAC9C,AAAA,AAACG,AAAEnC,AAA0B,AAAA,AAAA,AAASA,AAASgC,AACzC,AAAA,AAAA,AAAA,AAAShC,AAAagC;AAZnD,AAAA,AAAA,AAAA,AAAA,AAAA,AAaqBlB,AACdc,AAC4BG","names":["personal-website.views.preview-html/format-type","type","clojure.string.split","cljs.core.map","clojure.string/capitalize","clojure.string.join","personal-website.views.preview-html/format-tags","tags","x","cljs.core.comp","cljs.core.partial","clojure.string/join","cljs.core/map","cljs.core/flatten","cljs.core.interpose","personal-website.views.preview-html/scroll-to-top","js-obj","cljs.core/clj->js","scroll","js/window","js/setTimeout","personal-website.views.preview-html/preview","post-object","homepage?","map__41823","cljs.core/PROTOCOL_SENTINEL","cljs.core.apply","cljs.core/hash-map","cljs.core.get","title","date","content","show","id","post","suffix","cljs.core._EQ_","new-type","specifier","header"],"sourcesContent":["(ns personal-website.views.preview-html)\n\n(defn format-type [type]\n  (->> (clojure.string/split type \"-\")\n       (map clojure.string/capitalize)\n       (clojure.string/join \" \")))\n\n(defn format-tags [tags]\n  (->> tags (map (fn [x] (clojure.string/split x \" \")))\n            (map (comp (partial clojure.string/join \" \")\n                       (partial map clojure.string/capitalize)))\n            flatten\n            (interpose \", \")\n            clojure.string/join))\n\n\n(defn scroll-to-top []\n  (let [js-obj (clj->js {:top 0 :left 0})\n        scroll (fn [] (.scrollTo js/window js-obj))]\n    (js/setTimeout scroll 120)))\n\n\n(defn preview [post-object homepage?]\n  (let [{:keys [title date content show tags type id] :as post} post-object\n        suffix (if (= type \"short-story\") \"short-stories\" (str type \"s\"))\n        new-type (format-type type)\n        specifier (if homepage? (str new-type \" | \") \"\")\n        tags (format-tags tags)\n        header (str date \" | \" specifier tags)]\n    [:div\n        [:p {:class \"preview-header\"} header]\n        [:a {:class \"preview-title\"\n             :href (cond (= type \"paper\") (post :paper-link)\n                         (= type \"computer-science\") (str \"/\" type \"/\" id)\n                         (= type \"synthetic-biology\") (str \"/\" type \"/\" id)\n                         :else (str \"/\" type \"s\" \"/\" id))\n             :on-click scroll-to-top}\n         title]\n        [:em {:class \"preview-text\"} show]]))\n"]}